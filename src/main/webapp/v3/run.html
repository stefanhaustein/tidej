<html>
<head>
     <meta name="viewport" content="width=device-width, initial-scale=1">
</head>    
<body>
<tj-program id="program" style="display:none"></tj-program>
<script src="codemanagement.js"></script>
<script>
var programName = localStorage.getItem("currentProgramName");
var programXml = localStorage.getItem("program-" + programName);

var programElement = document.getElementById("program");
programElement.innerHTML = programXml;

var map = {};
var code = buildCode(map, 0, programElement);

window.console.log(map);
var script = document.createElement("script");
script.textContent = code;
document.body.appendChild(script);

</script>
    
</body>
</html>